<div class="modal ng-scope top am-fade-and-slide-top" tabindex="-1" role="dialog" style="display: block;">
	<div class="modal-dialog">
		<div class="modal-content">
			
			<div class="modal-header">
				<button type="button" class="close" ng-click="$hide();reloadData()">×</button>
				<h4 class="modal-title">Resultat #{{ resultat.resultat_id }}</h4>
			</div>
			<div class="modal-body">

				<form class="form-inline" role="form" id="resultat-form">

					<div class="form-group">
						<label class="normal">SagsNr&nbsp;&nbsp;</label>
						<input type="text" class="booking-typeahead form-control input-sm bold" size="10" ng-model="resultat.sagsNo" placeholder="..." />

						&nbsp;&nbsp;&nbsp;&nbsp;
						<label class="normal">PrøveNr&nbsp;&nbsp;</label>
						<input type="text" class="form-control input-sm bold" size="10" ng-model="resultat.proeve_nr" readonly style="background-color:#fff;"/>

						&nbsp;&nbsp;&nbsp;&nbsp;
						<label class="normal">Dato for analyse&nbsp;&nbsp;</label>
						<input type="text" class="form-control input-sm bold" size="10" ng-model="resultat.datoForAnalyse" bs-datepicker data-date-format="dd-MM-yyyy" size="7" data-autoclose="true" placeholder="..." />

						<!--
						&nbsp;&nbsp;&nbsp;&nbsp;
						<button role="button" class="btn btn-success">Gem ændringer</button>
						-->
					</div>

					<!--
					<div bs-tabs>
						<div bs-pane data-title="Undersøgte arter">
		
							<table datatable="ng" class="table taxon" dt-options="taxonOptions" dt-columns="taxonColumns" dt-column-defs="taxonColumnDefs">
								<tbody>
									<tr ng-repeat="taxon in taxon" ng-class="taxonRowClass(taxon.taxonSelected)">
										<td class="center"><input type="checkbox" ng-model="taxon.taxonSelected" ng-checked="taxon.taxonSelected" /></td>
										<td> {{ taxon.taxon_artsgruppe }} </td>
										<td> {{ taxon.taxon_navn_dk }} </td>
										<td><em> {{ taxon.taxon_navn }} </em></td>
									</tr>
								</tbody>
							</table>
	
						</div>

						<div bs-pane data-title="Resultater">				
							<br>
							<table ng-repeat="taxon in taxon" ng-if="taxon.taxonSelected" class="table resultat-item-table">
								<thead>
									<tr>
										<th colspan="3">
											<button role="button" class="btn btn-primary btn-xs" ng-click="createResultatItem(taxon.taxon_id)" title="Tilføj nyt resultat for {{ taxon.taxon_navn_dk | lowercase }}">
												<i class="fa fa-plus"></i>
											</button>
											&nbsp;{{ taxon.taxon_navn_dk }}
										</th>
										<th ng-if='$first'>Positiv</th>
										<th ng-if='$first'>Negativ</th>
										<th ng-if='$first'>eDNA prøve</th>
										<th ng-if='$first'>database</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="item in resultat.resultat_items[taxon.taxon_id]">
										<td> {{ taxon.taxon_artsgruppe }} </td>
										<td> {{ taxon.taxon_navn_dk }} </td>
										<td><em> {{ taxon.taxon_navn }} </em></td>
										<td><input type="checkbox" bs-switch ng-model="item.positiv" switch-size="mini" switch-off-text="0" switch-on-text="1" switch-on-color="primary" switch-off-color="danger" switch-animate="false" switch-inverse="true" /></td>
										<td><input type="checkbox" bs-switch ng-model="item.negativ" switch-size="mini" switch-off-text="0" switch-on-text="1" switch-on-color="primary" switch-off-color="danger" switch-animate="false" switch-inverse="true" /></td>
										<td><input type="checkbox" bs-switch ng-model="item.eDNA" switch-size="mini" switch-off-text="0" switch-on-text="1" switch-on-color="primary" switch-off-color="danger" switch-animate="false" switch-inverse="true" /></td>
										<td><input type="checkbox" bs-switch ng-model="item.paalidelig" switch-size="mini" switch-off-text="0" switch-on-text="1" switch-on-color="primary" switch-off-color="danger" switch-animate="false" switch-inverse="true" /></td>
									</tr>	
								</tbody>
							</table>
						</div>
						
					</div>
					-->

						<br>
						<table class="table resultat-item-table">
								<thead>
									<tr>
										<th class="add-resultat"></th> <!-- add -->
										<th></th> <!-- artsgruppe -->
										<th></th> <!-- species -->
										<th></th> <!-- scientific -->
										<th class="center">Positiv</th>
										<th class="center">Negativ</th>
										<th class="center">eDNA prøve</th>
										<th class="center">Pålidelig</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat-start="taxon in taxon" ng-if="taxon.taxonSelected" class="taxon-row">
										<td class="add-resultat">
											<i class="fa fa-plus" bs-tooltip ng-click="createResultatItem(taxon.taxon_id)" data-trigger="hover" data-title="Tilføj nyt resultat for {{ taxon.taxon_navn_dk | lowercase }}" style="color:green;float:left;padding-top:3px;"></i>
										</td>
										<td> {{ taxon.taxon_artsgruppe }} </td>
										<td> {{ taxon.taxon_navn_dk }} </td>
										<td><em> {{ taxon.taxon_navn }} </em></td>
										<td></td>
										<td></td>
										<td></td>
										<td></td>
										<td>
											<i class="fa fa-remove" bs-tooltip ng-hide="resultat.resultat_items[taxon.taxon_id] != 0" ng-click="excludeTaxon(taxon.taxon_id)" data-trigger="hover" data-title="Fjern <b>{{ taxon.taxon_navn_dk | lowercase }}</b> fra oversigten" data-html="true" style="color:gray;float:right;padding-top:3px;"></i>
										</td>
									</tr>	
									<tr ng-repeat-end ng-repeat="item in resultat.resultat_items[taxon.taxon_id]">
										<td></td>
										<td> {{ taxon.taxon_artsgruppe }} </td>
										<td> {{ taxon.taxon_navn_dk }} </td>
										<td><em> {{ taxon.taxon_navn }} </em></td>
										<td class="center"><input type="checkbox" bs-switch ng-model="item.positiv" ng-checked="item.positiv" switch-size="mini" switch-off-text="0" switch-on-text="1" switch-on-color="primary" switch-off-color="danger" switch-animate="false" switch-inverse="true"  ng-change="resultatValueClick('positiv', true, item)" /></td>
										<td class="center"><input type="checkbox" bs-switch ng-model="item.negativ" ng-checked="item.negativ" switch-size="mini" switch-off-text="0" switch-on-text="1" switch-on-color="primary" switch-off-color="danger" switch-animate="false" switch-inverse="true" ng-change="resultatValueClick('negativ', false, item)" /></td>
										<td class="center"><input type="checkbox" bs-switch ng-model="item.eDNA" ng-checked="item.eDNA" switch-size="mini" switch-off-text="0" switch-on-text="1" switch-on-color="primary" switch-off-color="danger" switch-animate="false" switch-inverse="true" ng-change="resultatValueClick('eDNA', true, item)" /></td>
										<td class="center"><input type="checkbox" bs-switch ng-model="item.database_result" switch-size="mini" switch-off-text="0" switch-on-text="1" switch-on-color="primary" switch-off-color="danger" switch-animate="false" switch-inverse="true" ng-change="updateResultatItem(item)" /></td>
										<td></td>
									</tr>
								</tbody>
							</table>
				</form>
			</div>
			
			<div class="modal-footer">
				<div class="form-inline form-group" style="float:left;">
					<label for="ssexcludedTaxons">Tilføj skjult art</label>
					<!--
					<select ng-model="unExcludeTaxon" id="unExcludeSelect" ng-options="t.art for t in excludedTaxons" xxxng-change="test()"></select>
					-->
					<select id="unExcludeSelect">
						<option ng-repeat="t in excludedTaxons" value="{{ t.taxon_id }}">{{ t.art }}</option>
					</select>
				</div>
				<button type="button" class="btn btn-default" ng-click="$hide();reloadData()"> <i class="fa fa-ok"></i>Luk</button> 
			</div>
		</div>
	</div>
</div>
